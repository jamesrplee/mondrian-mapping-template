{"version":3,"sources":["App.js","index.js"],"names":["MondrianCanvas","props","canvasRef","useRef","useEffect","canvas","current","context","getContext","size","window","innerWidth","dpr","devicePixelRatio","width","height","scale","lineWidth","step","colors","squares","x","y","splitSquaresWith","coordinates","i","length","square","Math","random","splice","splitOnX","splitOnY","splitAt","squareA","squareB","push","floor","color","beginPath","rect","fillStyle","fill","stroke","draw","ref","App","className","ReactDOM","render","StrictMode","templateProps","document","getElementById"],"mappings":"0OAWA,IAAMA,EAAiB,SAAAC,GACrB,IAAMC,EAAYC,iBAAO,MAqHzB,OAlHAC,qBAAU,WACR,IAAMC,EAASH,EAAUI,QACnBC,EAAUF,EAAOG,WAAW,MAE5BC,EAAOC,OAAOC,WACdC,EAAMF,OAAOG,iBAEnBR,EAAOS,MAAQL,EAAOG,EACtBP,EAAOU,OAASN,EAAOG,EACvBL,EAAQS,MAAMJ,EAAKA,GACnBL,EAAQU,UAAY,EAEpB,IAAMC,EAAOT,EAAO,EAEdU,EAAS,CAAC,UAAW,UAAW,WAEhCC,EAAU,CAAC,CACbC,EAAG,EACHC,EAAG,EACHR,MAAOL,EACPM,OAAQN,IAGZ,SAASc,EAAiBC,GAGxB,IAHsC,IAC9BH,EAASG,EAATH,EAAGC,EAAME,EAANF,EAEFG,EAAIL,EAAQM,OAAS,EAAGD,GAAK,EAAGA,IAAK,CAC9C,IAAME,EAASP,EAAQK,GAEnBJ,GAAKA,EAAIM,EAAON,GAAKA,EAAIM,EAAON,EAAIM,EAAOb,OACxCc,KAAKC,SAAW,KACjBT,EAAQU,OAAOL,EAAG,GAClBM,EAASJ,EAAQN,IAInBC,GAAKA,EAAIK,EAAOL,GAAKA,EAAIK,EAAOL,EAAIK,EAAOZ,QACxCa,KAAKC,SAAW,KACjBT,EAAQU,OAAOL,EAAG,GAClBO,EAASL,EAAQL,KAMzB,SAASS,EAASJ,EAAQM,GACxB,IAAIC,EAAU,CACZb,EAAGM,EAAON,EACVC,EAAGK,EAAOL,EACVR,MAAOa,EAAOb,OAASa,EAAOb,MAAQmB,EAAUN,EAAON,GACvDN,OAAQY,EAAOZ,QAGboB,EAAU,CACdd,EAAGY,EACHX,EAAGK,EAAOL,EACVR,MAAOa,EAAOb,MAAQmB,EAAUN,EAAON,EACvCN,OAAQY,EAAOZ,QAGfK,EAAQgB,KAAKF,GACbd,EAAQgB,KAAKD,GAGf,SAASH,EAASL,EAAQM,GACxB,IAAIC,EAAU,CACZb,EAAGM,EAAON,EACVC,EAAGK,EAAOL,EACVR,MAAOa,EAAOb,MACdC,OAAQY,EAAOZ,QAAUY,EAAOZ,OAASkB,EAAUN,EAAOL,IAGxDa,EAAU,CACdd,EAAGM,EAAON,EACVC,EAAGW,EACHnB,MAAOa,EAAOb,MACdC,OAAQY,EAAOZ,OAASkB,EAAUN,EAAOL,GAGzCF,EAAQgB,KAAKF,GACbd,EAAQgB,KAAKD,GAGf,IAAK,IAAIV,EAAI,EAAGA,EAAIhB,EAAMgB,GAAKP,EAC7BK,EAAiB,CAAED,EAAGG,IACtBF,EAAiB,CAAEF,EAAGI,KAGxB,WACE,IAAK,IAAIA,EAAI,EAAGA,EAAIN,EAAOO,OAAQD,IACjCL,EAAQQ,KAAKS,MAAMT,KAAKC,SAAWT,EAAQM,SAASY,MAAQnB,EAAOM,GAErE,IAASA,EAAI,EAAGA,EAAIL,EAAQM,OAAQD,IAClClB,EAAQgC,YACRhC,EAAQiC,KACNpB,EAAQK,GAAGJ,EACXD,EAAQK,GAAGH,EACXF,EAAQK,GAAGX,MACXM,EAAQK,GAAGV,QAEVK,EAAQK,GAAGa,MACZ/B,EAAQkC,UAAYrB,EAAQK,GAAGa,MAE/B/B,EAAQkC,UA1FA,UA4FVlC,EAAQmC,OACRnC,EAAQoC,SAIZC,KAEC,IAGD,oCAAQC,IAAK3C,GAAeD,KAIjB6C,EAnIf,WACE,OACE,qBAAKC,UAAU,MAAf,SACE,cAAC,EAAD,OCDNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,eAASxC,OAAOyC,kBAElBC,SAASC,eAAe,W","file":"static/js/main.c71c53be.chunk.js","sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <MondrianCanvas />\n    </div>\n  );\n}\n\nconst MondrianCanvas = props => {\n  const canvasRef = useRef(null);\n\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n\n    const size = window.innerWidth;\n    const dpr = window.devicePixelRatio;\n\n    canvas.width = size * dpr;\n    canvas.height = size * dpr;\n    context.scale(dpr, dpr);\n    context.lineWidth = 8;\n\n    const step = size / 7;\n    const white = '#F2F5F1';\n    const colors = ['#D40920', '#1356A2', '#F7D842']\n\n    const squares = [{\n        x: 0,\n        y: 0,\n        width: size,\n        height: size\n      }];\n\n    function splitSquaresWith(coordinates) {\n      const { x, y } = coordinates;\n\n      for (var i = squares.length - 1; i >= 0; i--) {\n      const square = squares[i];\n\n      if (x && x > square.x && x < square.x + square.width) {\n          if(Math.random() > 0.5) {\n            squares.splice(i, 1);\n            splitOnX(square, x);\n          }\n      }\n\n      if (y && y > square.y && y < square.y + square.height) {\n          if(Math.random() > 0.5) {\n            squares.splice(i, 1);\n            splitOnY(square, y);\n          }\n      }\n      }\n    }\n\n    function splitOnX(square, splitAt) {\n      var squareA = {\n        x: square.x,\n        y: square.y,\n        width: square.width - (square.width - splitAt + square.x),\n        height: square.height\n      };\n\n      var squareB = {\n      x: splitAt,\n      y: square.y,\n      width: square.width - splitAt + square.x,\n      height: square.height\n      };\n\n      squares.push(squareA);\n      squares.push(squareB);\n    }\n\n    function splitOnY(square, splitAt) {\n      var squareA = {\n        x: square.x,\n        y: square.y,\n        width: square.width,\n        height: square.height - (square.height - splitAt + square.y)\n      };\n\n      var squareB = {\n      x: square.x,\n      y: splitAt,\n      width: square.width,\n      height: square.height - splitAt + square.y\n      };\n\n      squares.push(squareA);\n      squares.push(squareB);\n    }\n\n    for (var i = 0; i < size; i += step) {\n      splitSquaresWith({ y: i });\n      splitSquaresWith({ x: i });\n    }\n\n    function draw() {\n      for (var i = 0; i < colors.length; i++) {\n        squares[Math.floor(Math.random() * squares.length)].color = colors[i];\n      }\n      for (var i = 0; i < squares.length; i++) {\n        context.beginPath();\n        context.rect(\n          squares[i].x,\n          squares[i].y,\n          squares[i].width,\n          squares[i].height\n        );\n        if(squares[i].color) {\n          context.fillStyle = squares[i].color;\n        } else {\n          context.fillStyle = white\n        }\n        context.fill()\n        context.stroke();\n      }\n    }\n\n    draw()\n\n  }, []) // useEffect\n\n  return (\n    <canvas ref={canvasRef} {...props} />\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App {...window.templateProps} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}